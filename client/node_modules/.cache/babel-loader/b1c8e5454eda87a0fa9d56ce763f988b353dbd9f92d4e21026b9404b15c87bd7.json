{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"src\", \"alt\", \"onClose\", \"afterClose\", \"visible\", \"icons\", \"rootClassName\", \"getContainer\", \"countRender\", \"scaleStep\", \"transitionName\", \"maskTransitionName\"];\nimport * as React from 'react';\nimport Portal from '@rc-component/portal';\nimport Dialog from 'rc-dialog';\nimport CSSMotion from 'rc-motion';\nimport classnames from 'classnames';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport { warning } from \"rc-util/es/warning\";\nimport useFrameSetState from \"./hooks/useFrameSetState\";\nimport getFixScaleEleTransPosition from \"./getFixScaleEleTransPosition\";\nimport { context } from \"./PreviewGroup\";\nvar useState = React.useState,\n  useEffect = React.useEffect,\n  useCallback = React.useCallback,\n  useRef = React.useRef,\n  useContext = React.useContext;\nvar initialPosition = {\n  x: 0,\n  y: 0\n};\nvar Preview = function Preview(props) {\n  var _countRender;\n  var prefixCls = props.prefixCls,\n    src = props.src,\n    alt = props.alt,\n    onClose = props.onClose,\n    afterClose = props.afterClose,\n    visible = props.visible,\n    _props$icons = props.icons,\n    icons = _props$icons === void 0 ? {} : _props$icons,\n    rootClassName = props.rootClassName,\n    getContainer = props.getContainer,\n    countRender = props.countRender,\n    _props$scaleStep = props.scaleStep,\n    scaleStep = _props$scaleStep === void 0 ? 0.5 : _props$scaleStep,\n    _props$transitionName = props.transitionName,\n    transitionName = _props$transitionName === void 0 ? 'zoom' : _props$transitionName,\n    _props$maskTransition = props.maskTransitionName,\n    maskTransitionName = _props$maskTransition === void 0 ? 'fade' : _props$maskTransition,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var rotateLeft = icons.rotateLeft,\n    rotateRight = icons.rotateRight,\n    zoomIn = icons.zoomIn,\n    zoomOut = icons.zoomOut,\n    close = icons.close,\n    left = icons.left,\n    right = icons.right;\n  var _useState = useState(1),\n    _useState2 = _slicedToArray(_useState, 2),\n    scale = _useState2[0],\n    setScale = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    rotate = _useState4[0],\n    setRotate = _useState4[1];\n  var _useFrameSetState = useFrameSetState(initialPosition),\n    _useFrameSetState2 = _slicedToArray(_useFrameSetState, 2),\n    position = _useFrameSetState2[0],\n    setPosition = _useFrameSetState2[1];\n  var imgRef = useRef();\n  var originPositionRef = useRef({\n    originX: 0,\n    originY: 0,\n    deltaX: 0,\n    deltaY: 0\n  });\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isMoving = _useState6[0],\n    setMoving = _useState6[1];\n  var _useContext = useContext(context),\n    previewUrls = _useContext.previewUrls,\n    current = _useContext.current,\n    isPreviewGroup = _useContext.isPreviewGroup,\n    setCurrent = _useContext.setCurrent;\n  var previewGroupCount = previewUrls.size;\n  var previewUrlsKeys = Array.from(previewUrls.keys());\n  var currentPreviewIndex = previewUrlsKeys.indexOf(current);\n  var combinationSrc = isPreviewGroup ? previewUrls.get(current) : src;\n  var showLeftOrRightSwitches = isPreviewGroup && previewGroupCount > 1;\n  var showOperationsProgress = isPreviewGroup && previewGroupCount >= 1;\n  var _useState7 = useState({\n      wheelDirection: 0\n    }),\n    _useState8 = _slicedToArray(_useState7, 2),\n    lastWheelZoomDirection = _useState8[0],\n    setLastWheelZoomDirection = _useState8[1];\n  var onAfterClose = function onAfterClose() {\n    setScale(1);\n    setRotate(0);\n    setPosition(initialPosition);\n  };\n  var onZoomIn = function onZoomIn() {\n    setScale(function (value) {\n      return value + scaleStep;\n    });\n    setPosition(initialPosition);\n  };\n  var onZoomOut = function onZoomOut() {\n    if (scale > 1) {\n      setScale(function (value) {\n        return value - scaleStep;\n      });\n    }\n    setPosition(initialPosition);\n  };\n  var onRotateRight = function onRotateRight() {\n    setRotate(function (value) {\n      return value + 90;\n    });\n  };\n  var onRotateLeft = function onRotateLeft() {\n    setRotate(function (value) {\n      return value - 90;\n    });\n  };\n  var onSwitchLeft = function onSwitchLeft(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n    if (currentPreviewIndex > 0) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n    }\n  };\n  var onSwitchRight = function onSwitchRight(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n    if (currentPreviewIndex < previewGroupCount - 1) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n    }\n  };\n  var wrapClassName = classnames(_defineProperty({}, \"\".concat(prefixCls, \"-moving\"), isMoving));\n  var toolClassName = \"\".concat(prefixCls, \"-operations-operation\");\n  var iconClassName = \"\".concat(prefixCls, \"-operations-icon\");\n  var tools = [{\n    icon: close,\n    onClick: onClose,\n    type: 'close'\n  }, {\n    icon: zoomIn,\n    onClick: onZoomIn,\n    type: 'zoomIn'\n  }, {\n    icon: zoomOut,\n    onClick: onZoomOut,\n    type: 'zoomOut',\n    disabled: scale === 1\n  }, {\n    icon: rotateRight,\n    onClick: onRotateRight,\n    type: 'rotateRight'\n  }, {\n    icon: rotateLeft,\n    onClick: onRotateLeft,\n    type: 'rotateLeft'\n  }];\n  var onMouseUp = function onMouseUp() {\n    if (visible && isMoving) {\n      var width = imgRef.current.offsetWidth * scale;\n      var height = imgRef.current.offsetHeight * scale; // eslint-disable-next-line @typescript-eslint/no-shadow\n\n      var _imgRef$current$getBo = imgRef.current.getBoundingClientRect(),\n        _left = _imgRef$current$getBo.left,\n        top = _imgRef$current$getBo.top;\n      var isRotate = rotate % 180 !== 0;\n      setMoving(false);\n      var fixState = getFixScaleEleTransPosition(isRotate ? height : width, isRotate ? width : height, _left, top);\n      if (fixState) {\n        setPosition(_objectSpread({}, fixState));\n      }\n    }\n  };\n  var onMouseDown = function onMouseDown(event) {\n    // Only allow main button\n    if (event.button !== 0) return;\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n    originPositionRef.current.deltaX = event.pageX - position.x;\n    originPositionRef.current.deltaY = event.pageY - position.y;\n    originPositionRef.current.originX = position.x;\n    originPositionRef.current.originY = position.y;\n    setMoving(true);\n  };\n  var onMouseMove = function onMouseMove(event) {\n    if (visible && isMoving) {\n      setPosition({\n        x: event.pageX - originPositionRef.current.deltaX,\n        y: event.pageY - originPositionRef.current.deltaY\n      });\n    }\n  };\n  var onWheelMove = function onWheelMove(event) {\n    if (!visible) return;\n    event.preventDefault();\n    var wheelDirection = event.deltaY;\n    setLastWheelZoomDirection({\n      wheelDirection: wheelDirection\n    });\n  };\n  var onKeyDown = useCallback(function (event) {\n    if (!visible || !showLeftOrRightSwitches) return;\n    if (event.keyCode === KeyCode.LEFT) {\n      if (currentPreviewIndex > 0) {\n        setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n      }\n    } else if (event.keyCode === KeyCode.RIGHT) {\n      if (currentPreviewIndex < previewGroupCount - 1) {\n        setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n      }\n    }\n  }, [currentPreviewIndex, previewGroupCount, previewUrlsKeys, setCurrent, showLeftOrRightSwitches, visible]);\n  var onDoubleClick = function onDoubleClick() {\n    if (visible) {\n      if (scale !== 1) {\n        setScale(1);\n      }\n      if (position.x !== initialPosition.x || position.y !== initialPosition.y) {\n        setPosition(initialPosition);\n      }\n    }\n  };\n  useEffect(function () {\n    var wheelDirection = lastWheelZoomDirection.wheelDirection;\n    if (wheelDirection > 0) {\n      onZoomOut();\n    } else if (wheelDirection < 0) {\n      onZoomIn();\n    }\n  }, [lastWheelZoomDirection]);\n  useEffect(function () {\n    var onTopMouseUpListener;\n    var onTopMouseMoveListener;\n    var onMouseUpListener = addEventListener(window, 'mouseup', onMouseUp, false);\n    var onMouseMoveListener = addEventListener(window, 'mousemove', onMouseMove, false);\n    var onScrollWheelListener = addEventListener(window, 'wheel', onWheelMove, {\n      passive: false\n    });\n    var onKeyDownListener = addEventListener(window, 'keydown', onKeyDown, false);\n    try {\n      // Resolve if in iframe lost event\n\n      /* istanbul ignore next */\n      if (window.top !== window.self) {\n        onTopMouseUpListener = addEventListener(window.top, 'mouseup', onMouseUp, false);\n        onTopMouseMoveListener = addEventListener(window.top, 'mousemove', onMouseMove, false);\n      }\n    } catch (error) {\n      /* istanbul ignore next */\n      warning(false, \"[rc-image] \".concat(error));\n    }\n    return function () {\n      var _onTopMouseUpListener, _onTopMouseMoveListen;\n      onMouseUpListener.remove();\n      onMouseMoveListener.remove();\n      onScrollWheelListener.remove();\n      onKeyDownListener.remove();\n      /* istanbul ignore next */\n\n      (_onTopMouseUpListener = onTopMouseUpListener) === null || _onTopMouseUpListener === void 0 ? void 0 : _onTopMouseUpListener.remove();\n      /* istanbul ignore next */\n\n      (_onTopMouseMoveListen = onTopMouseMoveListener) === null || _onTopMouseMoveListen === void 0 ? void 0 : _onTopMouseMoveListen.remove();\n    };\n  }, [visible, isMoving, onKeyDown]);\n  var operations = /*#__PURE__*/React.createElement(React.Fragment, null, showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames(\"\".concat(prefixCls, \"-switch-left\"), _defineProperty({}, \"\".concat(prefixCls, \"-switch-left-disabled\"), currentPreviewIndex === 0)),\n    onClick: onSwitchLeft\n  }, left), showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames(\"\".concat(prefixCls, \"-switch-right\"), _defineProperty({}, \"\".concat(prefixCls, \"-switch-right-disabled\"), currentPreviewIndex === previewGroupCount - 1)),\n    onClick: onSwitchRight\n  }, right), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-operations\")\n  }, showOperationsProgress && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"\".concat(prefixCls, \"-operations-progress\")\n  }, (_countRender = countRender === null || countRender === void 0 ? void 0 : countRender(currentPreviewIndex + 1, previewGroupCount)) !== null && _countRender !== void 0 ? _countRender : \"\".concat(currentPreviewIndex + 1, \" / \").concat(previewGroupCount)), tools.map(function (_ref) {\n    var _classnames4;\n    var icon = _ref.icon,\n      onClick = _ref.onClick,\n      type = _ref.type,\n      disabled = _ref.disabled;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: classnames(toolClassName, (_classnames4 = {}, _defineProperty(_classnames4, \"\".concat(prefixCls, \"-operations-operation-\").concat(type), true), _defineProperty(_classnames4, \"\".concat(prefixCls, \"-operations-operation-disabled\"), !!disabled), _classnames4)),\n      onClick: onClick,\n      key: type\n    }, /*#__PURE__*/React.isValidElement(icon) ? /*#__PURE__*/React.cloneElement(icon, {\n      className: iconClassName\n    }) : icon);\n  })));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, _extends({\n    transitionName: transitionName,\n    maskTransitionName: maskTransitionName,\n    closable: false,\n    keyboard: true,\n    prefixCls: prefixCls,\n    onClose: onClose,\n    afterClose: onAfterClose,\n    visible: visible,\n    wrapClassName: wrapClassName,\n    rootClassName: rootClassName,\n    getContainer: getContainer\n  }, restProps), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-img-wrapper\"),\n    style: {\n      transform: \"translate3d(\".concat(position.x, \"px, \").concat(position.y, \"px, 0)\")\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: props.width,\n    height: props.height,\n    onMouseDown: onMouseDown,\n    onDoubleClick: onDoubleClick,\n    ref: imgRef,\n    className: \"\".concat(prefixCls, \"-img\"),\n    src: combinationSrc,\n    alt: alt,\n    style: {\n      transform: \"scale3d(\".concat(scale, \", \").concat(scale, \", 1) rotate(\").concat(rotate, \"deg)\")\n    }\n  }))), /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: visible,\n    motionName: maskTransitionName\n  }, function (_ref2) {\n    var className = _ref2.className,\n      style = _ref2.style;\n    return /*#__PURE__*/React.createElement(Portal, {\n      open: true,\n      getContainer: getContainer !== null && getContainer !== void 0 ? getContainer : document.body\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(\"\".concat(prefixCls, \"-operations-wrapper\"), className, rootClassName),\n      style: style\n    }, operations));\n  }));\n};\nexport default Preview;","map":{"version":3,"names":["_extends","_objectSpread","_defineProperty","_slicedToArray","_objectWithoutProperties","_excluded","React","Portal","Dialog","CSSMotion","classnames","addEventListener","KeyCode","warning","useFrameSetState","getFixScaleEleTransPosition","context","useState","useEffect","useCallback","useRef","useContext","initialPosition","x","y","Preview","props","_countRender","prefixCls","src","alt","onClose","afterClose","visible","_props$icons","icons","rootClassName","getContainer","countRender","_props$scaleStep","scaleStep","_props$transitionName","transitionName","_props$maskTransition","maskTransitionName","restProps","rotateLeft","rotateRight","zoomIn","zoomOut","close","left","right","_useState","_useState2","scale","setScale","_useState3","_useState4","rotate","setRotate","_useFrameSetState","_useFrameSetState2","position","setPosition","imgRef","originPositionRef","originX","originY","deltaX","deltaY","_useState5","_useState6","isMoving","setMoving","_useContext","previewUrls","current","isPreviewGroup","setCurrent","previewGroupCount","size","previewUrlsKeys","Array","from","keys","currentPreviewIndex","indexOf","combinationSrc","get","showLeftOrRightSwitches","showOperationsProgress","_useState7","wheelDirection","_useState8","lastWheelZoomDirection","setLastWheelZoomDirection","onAfterClose","onZoomIn","value","onZoomOut","onRotateRight","onRotateLeft","onSwitchLeft","event","preventDefault","stopPropagation","onSwitchRight","wrapClassName","concat","toolClassName","iconClassName","tools","icon","onClick","type","disabled","onMouseUp","width","offsetWidth","height","offsetHeight","_imgRef$current$getBo","getBoundingClientRect","_left","top","isRotate","fixState","onMouseDown","button","pageX","pageY","onMouseMove","onWheelMove","onKeyDown","keyCode","LEFT","RIGHT","onDoubleClick","onTopMouseUpListener","onTopMouseMoveListener","onMouseUpListener","window","onMouseMoveListener","onScrollWheelListener","passive","onKeyDownListener","self","error","_onTopMouseUpListener","_onTopMouseMoveListen","remove","operations","createElement","Fragment","className","map","_ref","_classnames4","key","isValidElement","cloneElement","closable","keyboard","style","transform","ref","motionName","_ref2","open","document","body"],"sources":["C:/Users/lizaz/Documents/GitHub/diplom-client/node_modules/rc-image/es/Preview.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"src\", \"alt\", \"onClose\", \"afterClose\", \"visible\", \"icons\", \"rootClassName\", \"getContainer\", \"countRender\", \"scaleStep\", \"transitionName\", \"maskTransitionName\"];\nimport * as React from 'react';\nimport Portal from '@rc-component/portal';\nimport Dialog from 'rc-dialog';\nimport CSSMotion from 'rc-motion';\nimport classnames from 'classnames';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport { warning } from \"rc-util/es/warning\";\nimport useFrameSetState from \"./hooks/useFrameSetState\";\nimport getFixScaleEleTransPosition from \"./getFixScaleEleTransPosition\";\nimport { context } from \"./PreviewGroup\";\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useCallback = React.useCallback,\n    useRef = React.useRef,\n    useContext = React.useContext;\nvar initialPosition = {\n  x: 0,\n  y: 0\n};\n\nvar Preview = function Preview(props) {\n  var _countRender;\n\n  var prefixCls = props.prefixCls,\n      src = props.src,\n      alt = props.alt,\n      onClose = props.onClose,\n      afterClose = props.afterClose,\n      visible = props.visible,\n      _props$icons = props.icons,\n      icons = _props$icons === void 0 ? {} : _props$icons,\n      rootClassName = props.rootClassName,\n      getContainer = props.getContainer,\n      countRender = props.countRender,\n      _props$scaleStep = props.scaleStep,\n      scaleStep = _props$scaleStep === void 0 ? 0.5 : _props$scaleStep,\n      _props$transitionName = props.transitionName,\n      transitionName = _props$transitionName === void 0 ? 'zoom' : _props$transitionName,\n      _props$maskTransition = props.maskTransitionName,\n      maskTransitionName = _props$maskTransition === void 0 ? 'fade' : _props$maskTransition,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var rotateLeft = icons.rotateLeft,\n      rotateRight = icons.rotateRight,\n      zoomIn = icons.zoomIn,\n      zoomOut = icons.zoomOut,\n      close = icons.close,\n      left = icons.left,\n      right = icons.right;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      scale = _useState2[0],\n      setScale = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rotate = _useState4[0],\n      setRotate = _useState4[1];\n\n  var _useFrameSetState = useFrameSetState(initialPosition),\n      _useFrameSetState2 = _slicedToArray(_useFrameSetState, 2),\n      position = _useFrameSetState2[0],\n      setPosition = _useFrameSetState2[1];\n\n  var imgRef = useRef();\n  var originPositionRef = useRef({\n    originX: 0,\n    originY: 0,\n    deltaX: 0,\n    deltaY: 0\n  });\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isMoving = _useState6[0],\n      setMoving = _useState6[1];\n\n  var _useContext = useContext(context),\n      previewUrls = _useContext.previewUrls,\n      current = _useContext.current,\n      isPreviewGroup = _useContext.isPreviewGroup,\n      setCurrent = _useContext.setCurrent;\n\n  var previewGroupCount = previewUrls.size;\n  var previewUrlsKeys = Array.from(previewUrls.keys());\n  var currentPreviewIndex = previewUrlsKeys.indexOf(current);\n  var combinationSrc = isPreviewGroup ? previewUrls.get(current) : src;\n  var showLeftOrRightSwitches = isPreviewGroup && previewGroupCount > 1;\n  var showOperationsProgress = isPreviewGroup && previewGroupCount >= 1;\n\n  var _useState7 = useState({\n    wheelDirection: 0\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastWheelZoomDirection = _useState8[0],\n      setLastWheelZoomDirection = _useState8[1];\n\n  var onAfterClose = function onAfterClose() {\n    setScale(1);\n    setRotate(0);\n    setPosition(initialPosition);\n  };\n\n  var onZoomIn = function onZoomIn() {\n    setScale(function (value) {\n      return value + scaleStep;\n    });\n    setPosition(initialPosition);\n  };\n\n  var onZoomOut = function onZoomOut() {\n    if (scale > 1) {\n      setScale(function (value) {\n        return value - scaleStep;\n      });\n    }\n\n    setPosition(initialPosition);\n  };\n\n  var onRotateRight = function onRotateRight() {\n    setRotate(function (value) {\n      return value + 90;\n    });\n  };\n\n  var onRotateLeft = function onRotateLeft() {\n    setRotate(function (value) {\n      return value - 90;\n    });\n  };\n\n  var onSwitchLeft = function onSwitchLeft(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n\n    if (currentPreviewIndex > 0) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n    }\n  };\n\n  var onSwitchRight = function onSwitchRight(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n\n    if (currentPreviewIndex < previewGroupCount - 1) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n    }\n  };\n\n  var wrapClassName = classnames(_defineProperty({}, \"\".concat(prefixCls, \"-moving\"), isMoving));\n  var toolClassName = \"\".concat(prefixCls, \"-operations-operation\");\n  var iconClassName = \"\".concat(prefixCls, \"-operations-icon\");\n  var tools = [{\n    icon: close,\n    onClick: onClose,\n    type: 'close'\n  }, {\n    icon: zoomIn,\n    onClick: onZoomIn,\n    type: 'zoomIn'\n  }, {\n    icon: zoomOut,\n    onClick: onZoomOut,\n    type: 'zoomOut',\n    disabled: scale === 1\n  }, {\n    icon: rotateRight,\n    onClick: onRotateRight,\n    type: 'rotateRight'\n  }, {\n    icon: rotateLeft,\n    onClick: onRotateLeft,\n    type: 'rotateLeft'\n  }];\n\n  var onMouseUp = function onMouseUp() {\n    if (visible && isMoving) {\n      var width = imgRef.current.offsetWidth * scale;\n      var height = imgRef.current.offsetHeight * scale; // eslint-disable-next-line @typescript-eslint/no-shadow\n\n      var _imgRef$current$getBo = imgRef.current.getBoundingClientRect(),\n          _left = _imgRef$current$getBo.left,\n          top = _imgRef$current$getBo.top;\n\n      var isRotate = rotate % 180 !== 0;\n      setMoving(false);\n      var fixState = getFixScaleEleTransPosition(isRotate ? height : width, isRotate ? width : height, _left, top);\n\n      if (fixState) {\n        setPosition(_objectSpread({}, fixState));\n      }\n    }\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    // Only allow main button\n    if (event.button !== 0) return;\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n    originPositionRef.current.deltaX = event.pageX - position.x;\n    originPositionRef.current.deltaY = event.pageY - position.y;\n    originPositionRef.current.originX = position.x;\n    originPositionRef.current.originY = position.y;\n    setMoving(true);\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    if (visible && isMoving) {\n      setPosition({\n        x: event.pageX - originPositionRef.current.deltaX,\n        y: event.pageY - originPositionRef.current.deltaY\n      });\n    }\n  };\n\n  var onWheelMove = function onWheelMove(event) {\n    if (!visible) return;\n    event.preventDefault();\n    var wheelDirection = event.deltaY;\n    setLastWheelZoomDirection({\n      wheelDirection: wheelDirection\n    });\n  };\n\n  var onKeyDown = useCallback(function (event) {\n    if (!visible || !showLeftOrRightSwitches) return;\n\n    if (event.keyCode === KeyCode.LEFT) {\n      if (currentPreviewIndex > 0) {\n        setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n      }\n    } else if (event.keyCode === KeyCode.RIGHT) {\n      if (currentPreviewIndex < previewGroupCount - 1) {\n        setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n      }\n    }\n  }, [currentPreviewIndex, previewGroupCount, previewUrlsKeys, setCurrent, showLeftOrRightSwitches, visible]);\n\n  var onDoubleClick = function onDoubleClick() {\n    if (visible) {\n      if (scale !== 1) {\n        setScale(1);\n      }\n\n      if (position.x !== initialPosition.x || position.y !== initialPosition.y) {\n        setPosition(initialPosition);\n      }\n    }\n  };\n\n  useEffect(function () {\n    var wheelDirection = lastWheelZoomDirection.wheelDirection;\n\n    if (wheelDirection > 0) {\n      onZoomOut();\n    } else if (wheelDirection < 0) {\n      onZoomIn();\n    }\n  }, [lastWheelZoomDirection]);\n  useEffect(function () {\n    var onTopMouseUpListener;\n    var onTopMouseMoveListener;\n    var onMouseUpListener = addEventListener(window, 'mouseup', onMouseUp, false);\n    var onMouseMoveListener = addEventListener(window, 'mousemove', onMouseMove, false);\n    var onScrollWheelListener = addEventListener(window, 'wheel', onWheelMove, {\n      passive: false\n    });\n    var onKeyDownListener = addEventListener(window, 'keydown', onKeyDown, false);\n\n    try {\n      // Resolve if in iframe lost event\n\n      /* istanbul ignore next */\n      if (window.top !== window.self) {\n        onTopMouseUpListener = addEventListener(window.top, 'mouseup', onMouseUp, false);\n        onTopMouseMoveListener = addEventListener(window.top, 'mousemove', onMouseMove, false);\n      }\n    } catch (error) {\n      /* istanbul ignore next */\n      warning(false, \"[rc-image] \".concat(error));\n    }\n\n    return function () {\n      var _onTopMouseUpListener, _onTopMouseMoveListen;\n\n      onMouseUpListener.remove();\n      onMouseMoveListener.remove();\n      onScrollWheelListener.remove();\n      onKeyDownListener.remove();\n      /* istanbul ignore next */\n\n      (_onTopMouseUpListener = onTopMouseUpListener) === null || _onTopMouseUpListener === void 0 ? void 0 : _onTopMouseUpListener.remove();\n      /* istanbul ignore next */\n\n      (_onTopMouseMoveListen = onTopMouseMoveListener) === null || _onTopMouseMoveListen === void 0 ? void 0 : _onTopMouseMoveListen.remove();\n    };\n  }, [visible, isMoving, onKeyDown]);\n  var operations = /*#__PURE__*/React.createElement(React.Fragment, null, showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames(\"\".concat(prefixCls, \"-switch-left\"), _defineProperty({}, \"\".concat(prefixCls, \"-switch-left-disabled\"), currentPreviewIndex === 0)),\n    onClick: onSwitchLeft\n  }, left), showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames(\"\".concat(prefixCls, \"-switch-right\"), _defineProperty({}, \"\".concat(prefixCls, \"-switch-right-disabled\"), currentPreviewIndex === previewGroupCount - 1)),\n    onClick: onSwitchRight\n  }, right), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-operations\")\n  }, showOperationsProgress && /*#__PURE__*/React.createElement(\"li\", {\n    className: \"\".concat(prefixCls, \"-operations-progress\")\n  }, (_countRender = countRender === null || countRender === void 0 ? void 0 : countRender(currentPreviewIndex + 1, previewGroupCount)) !== null && _countRender !== void 0 ? _countRender : \"\".concat(currentPreviewIndex + 1, \" / \").concat(previewGroupCount)), tools.map(function (_ref) {\n    var _classnames4;\n\n    var icon = _ref.icon,\n        onClick = _ref.onClick,\n        type = _ref.type,\n        disabled = _ref.disabled;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: classnames(toolClassName, (_classnames4 = {}, _defineProperty(_classnames4, \"\".concat(prefixCls, \"-operations-operation-\").concat(type), true), _defineProperty(_classnames4, \"\".concat(prefixCls, \"-operations-operation-disabled\"), !!disabled), _classnames4)),\n      onClick: onClick,\n      key: type\n    }, /*#__PURE__*/React.isValidElement(icon) ? /*#__PURE__*/React.cloneElement(icon, {\n      className: iconClassName\n    }) : icon);\n  })));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dialog, _extends({\n    transitionName: transitionName,\n    maskTransitionName: maskTransitionName,\n    closable: false,\n    keyboard: true,\n    prefixCls: prefixCls,\n    onClose: onClose,\n    afterClose: onAfterClose,\n    visible: visible,\n    wrapClassName: wrapClassName,\n    rootClassName: rootClassName,\n    getContainer: getContainer\n  }, restProps), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-img-wrapper\"),\n    style: {\n      transform: \"translate3d(\".concat(position.x, \"px, \").concat(position.y, \"px, 0)\")\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: props.width,\n    height: props.height,\n    onMouseDown: onMouseDown,\n    onDoubleClick: onDoubleClick,\n    ref: imgRef,\n    className: \"\".concat(prefixCls, \"-img\"),\n    src: combinationSrc,\n    alt: alt,\n    style: {\n      transform: \"scale3d(\".concat(scale, \", \").concat(scale, \", 1) rotate(\").concat(rotate, \"deg)\")\n    }\n  }))), /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: visible,\n    motionName: maskTransitionName\n  }, function (_ref2) {\n    var className = _ref2.className,\n        style = _ref2.style;\n    return /*#__PURE__*/React.createElement(Portal, {\n      open: true,\n      getContainer: getContainer !== null && getContainer !== void 0 ? getContainer : document.body\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(\"\".concat(prefixCls, \"-operations-wrapper\"), className, rootClassName),\n      style: style\n    }, operations));\n  }));\n};\n\nexport default Preview;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}